(self.webpackChunkcollabit_storybook=self.webpackChunkcollabit_storybook||[]).push([[581],{"./src/stories/TreeNavigation.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Display:()=>Display,Edit:()=>Edit,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TreeNavigation_stories});var dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),react=__webpack_require__("./node_modules/react/index.js"),Stack=__webpack_require__("./node_modules/@fluentui/react/lib/components/Stack/Stack.js"),ActionButton=__webpack_require__("./node_modules/@fluentui/react/lib/components/Button/ActionButton/ActionButton.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const NavigationItemToolbar=props=>(0,jsx_runtime.jsxs)(Stack.B,{horizontal:!0,className:"NavigationItemToolbar",children:[(0,jsx_runtime.jsx)(ActionButton.r,{iconProps:{iconName:"Edit"},title:"Edit",className:"NavigationItemToolbarButton"}),(0,jsx_runtime.jsx)(ActionButton.r,{iconProps:{iconName:"ChevronUp"},title:"Move up",className:"NavigationItemToolbarButton"}),(0,jsx_runtime.jsx)(ActionButton.r,{iconProps:{iconName:"ChevronDown"},title:"Move down",className:"NavigationItemToolbarButton"}),(0,jsx_runtime.jsx)(ActionButton.r,{iconProps:{iconName:"Delete"},title:"Delete",className:"NavigationItemToolbarButton"})]});NavigationItemToolbar.__docgenInfo={description:"",methods:[],displayName:"NavigationItemToolbar",props:{item:{required:!0,tsType:{name:"INavigationItem"},description:""},navigationItems:{required:!0,tsType:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},description:""},changeNavigation:{required:!0,tsType:{name:"signature",type:"function",raw:"(items: INavigationItem[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},name:"items"}],return:{name:"void"}}},description:""}}};var Icon=__webpack_require__("./node_modules/@fluentui/react/lib/components/Icon/Icon.js"),Link=__webpack_require__("./node_modules/@fluentui/react/lib/components/Link/Link.js");(0,__webpack_require__("./node_modules/@fluentui/font-icons-mdl2/lib/index.js").v)();const NavigationItem=props=>{const[navigationItems,setNavigationItems]=react.useState(props.navigationItems),[item,setItem]=react.useState(props.item),[isChildrens,setIsChildrens]=react.useState(!1),[isExpanded,setIsExpanded]=react.useState(!1);return react.useEffect((()=>{setNavigationItems(props.navigationItems),setItem(props.item),setIsChildrens(props.navigationItems.filter((item=>item.parentId===props.item.id)).length>0)}),[props.navigationItems,props.item]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(Stack.B,{horizontal:!0,verticalAlign:"center",className:"NavigationItem",children:[(0,jsx_runtime.jsxs)(Stack.B,{horizontal:!0,verticalAlign:"center",className:"NavigationItemInner",children:[isChildrens?(0,jsx_runtime.jsx)(ActionButton.r,{iconProps:{iconName:isExpanded?"ChevronDown":"ChevronRight"},onClick:()=>setIsExpanded(!isExpanded),className:"NavigationItemExpandButton"}):(0,jsx_runtime.jsx)("span",{style:{width:32,display:"inline-block"}}),item.icon?(0,jsx_runtime.jsx)(Icon.I,{iconName:item.icon,className:"NavigationItemIcon"}):(0,jsx_runtime.jsx)(Icon.I,{iconName:props.defaultIcon?props.defaultIcon:"TextDocument",className:"NavigationItemIcon"}),(0,jsx_runtime.jsx)(Link.N,{onClick:()=>window.location.href=props.item.url,className:"NavigationItemLink",children:props.item.label})]}),props.editMode&&(0,jsx_runtime.jsx)(NavigationItemToolbar,{item,navigationItems,changeNavigation:props.changeNavigation})]}),isExpanded&&isChildrens&&(0,jsx_runtime.jsx)(NavigationLevel,{navigationItems,changeNavigation:props.changeNavigation,editMode:props.editMode,parentId:item.id,defaultIcon:props.defaultIcon})]})};NavigationItem.__docgenInfo={description:"",methods:[],displayName:"NavigationItem",props:{item:{required:!0,tsType:{name:"INavigationItem"},description:""},navigationItems:{required:!0,tsType:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},description:""},changeNavigation:{required:!0,tsType:{name:"signature",type:"function",raw:"(items: INavigationItem[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},name:"items"}],return:{name:"void"}}},description:""},editMode:{required:!0,tsType:{name:"boolean"},description:""},defaultIcon:{required:!1,tsType:{name:"string"},description:""}}};const NavigationLevel=props=>{const[items,setItems]=react.useState(props.navigationItems),[levelItems,setLevelItems]=react.useState([]);return react.useEffect((()=>{setItems(props.navigationItems),props.parentId?setLevelItems(props.navigationItems.filter((item=>item.parentId===props.parentId))):setLevelItems(props.navigationItems.filter((item=>!item.parentId)))}),[props.navigationItems,props.parentId]),0===levelItems.length?null:(0,jsx_runtime.jsx)("ul",{className:"NavigationLevel",children:levelItems.map((item=>(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(NavigationItem,{item,navigationItems:items,changeNavigation:items=>props.changeNavigation(items),editMode:props.editMode,defaultIcon:props.defaultIcon})},item.id)))})};NavigationLevel.__docgenInfo={description:"",methods:[],displayName:"NavigationLevel",props:{navigationItems:{required:!0,tsType:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},description:""},changeNavigation:{required:!0,tsType:{name:"signature",type:"function",raw:"(navigationItems: INavigationItem[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},name:"navigationItems"}],return:{name:"void"}}},description:""},editMode:{required:!0,tsType:{name:"boolean"},description:""},parentId:{required:!0,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},defaultIcon:{required:!1,tsType:{name:"string"},description:""}}};const TreeNavigation_TreeNavigation=props=>{const[items,setItems]=react.useState(props.navigationItems);return react.useEffect((()=>{const orderedItems=props.navigationItems.sort(((a,b)=>a.order-b.order));setItems(orderedItems)}),[props.navigationItems]),(0,jsx_runtime.jsx)("div",{className:"TreeNavigation",children:(0,jsx_runtime.jsx)(NavigationLevel,{navigationItems:items,changeNavigation:items=>props.changeNavigation(items),editMode:props.editMode,parentId:null,defaultIcon:props.defaultIcon})})};TreeNavigation_TreeNavigation.__docgenInfo={description:"",methods:[],displayName:"TreeNavigation",props:{navigationItems:{required:!0,tsType:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},description:""},changeNavigation:{required:!0,tsType:{name:"signature",type:"function",raw:"(navigationItems: INavigationItem[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"INavigationItem"}],raw:"INavigationItem[]"},name:"navigationItems"}],return:{name:"void"}}},description:""},editMode:{required:!0,tsType:{name:"boolean"},description:""},defaultIcon:{required:!1,tsType:{name:"string"},description:""}}};const NavigationItems=[{id:1,label:"Item 1.1.2",url:"/item1.1.2",order:2,parentId:4},{id:2,label:"Item 1",url:"/item1",order:1,icon:"OpenFolderHorizontal"},{id:3,label:"Item 2",url:"/item2",order:2,icon:"OpenFolderHorizontal"},{id:4,label:"Item 1.1",url:"/item1.1",order:1,parentId:2,icon:"OpenFolderHorizontal"},{id:5,label:"Item 2.2.1",url:"/item2.2.1",order:1,parentId:9},{id:6,label:"Item 2.1",url:"/item2.1",order:1,parentId:3},{id:7,label:"Item 1.1.1",url:"/item1.1.1",order:1,parentId:4},{id:8,label:"Item 1.2",url:"/item1.2",order:2,parentId:2},{id:9,label:"Item 2.2",url:"/item2.2",order:2,parentId:3,icon:"OpenFolderHorizontal"},{id:10,label:"Item 2.2.2",url:"/item2.2.2",order:2,parentId:9}],TreeNavigation_stories={title:"CollabIT/TreeNavigation",component:TreeNavigation_TreeNavigation,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{},args:{changeNavigation:(0,dist.fn)()}},Edit={args:{navigationItems:NavigationItems,editMode:!0}},Display={args:{navigationItems:NavigationItems,editMode:!1}};Edit.parameters={...Edit.parameters,docs:{...Edit.parameters?.docs,source:{originalSource:"{\n  args: {\n    navigationItems: NavigationItems,\n    editMode: true\n  }\n}",...Edit.parameters?.docs?.source}}},Display.parameters={...Display.parameters,docs:{...Display.parameters?.docs,source:{originalSource:"{\n  args: {\n    navigationItems: NavigationItems,\n    editMode: false\n  }\n}",...Display.parameters?.docs?.source}}};const __namedExportsOrder=["Edit","Display"]},"./node_modules/@storybook/test/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/test/dist sync recursive",module.exports=webpackEmptyContext}}]);